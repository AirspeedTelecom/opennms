<?xml version="1.0" encoding="UTF-8"?>
<features>
    <!-- Order of this file is important to the feature validator -->
    <!-- Supporting bundles used with opennms -->

    <feature name='spring' version='${spring-version}'>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aopalliance/${aopalliance-bundle-version}</bundle>
        <bundle>mvn:org.springframework/spring-core/${spring-version}</bundle>
        <bundle>mvn:org.springframework/spring-beans/${spring-version}</bundle>
        <bundle>mvn:org.springframework/spring-aop/${spring-version}</bundle>
        <bundle>mvn:org.springframework/spring-context/${spring-version}</bundle>
        <bundle>mvn:org.springframework/spring-context-support/${spring-version}</bundle>
    </feature>

    <feature name='spring3' version='${spring3-version}'>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aopalliance/${aopalliance-bundle-version}</bundle>
        <bundle>mvn:org.springframework/spring-asm/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-aop/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-aspects/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-core/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-beans/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-context/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-context-support/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-expression/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-tx/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-orm/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-tx/${spring3-version}</bundle>
        <bundle>mvn:org.springframework/spring-jdbc/${spring3-version}</bundle>
    </feature>

    <feature name='spring-dm' version='${spring-osgi-version}'>
        <feature version='${spring-version}'>spring</feature>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.cglib/2.1_3_4</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-io/${spring-osgi-version}</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-core/${spring-osgi-version}</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-extender/${spring-osgi-version}</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-annotation/${spring-osgi-version}</bundle>
    </feature>

    <feature name='spring-dm3' version='${spring-osgi-version}'>
        <feature version='${spring3-version}'>spring3</feature>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.cglib/2.1_3_4</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-io/${spring-osgi-version}</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-core/${spring-osgi-version}</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-extender/${spring-osgi-version}</bundle>
        <bundle>mvn:org.springframework.osgi/spring-osgi-annotation/${spring-osgi-version}</bundle>
    </feature>

    <feature name="hibernate" version="${hibernate.version}">
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.cglib/2.1_3_4</bundle>
        <bundle>mvn:commons-collections/commons-collections/${commons-collections-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-pool/${commons-pool-bundle-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.dom4j/${dom4j-bundle-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.antlr/${antlr-bundle-version}</bundle>
        <bundle>mvn:http://repository.springsource.com/maven/bundles/external!org.jboss.javassist/com.springsource.javassist/${javassist-version}</bundle>
        <bundle>mvn:org.hibernate/com.springsource.org.hibernate/${hibernate.version}</bundle>
        <bundle>mvn:org.hibernate/com.springsource.org.hibernate.annotations/${hibernate-annotations.version}</bundle>
        <bundle>mvn:org.hibernate/com.springsource.org.hibernate.annotations.common/${hibernate-annotations-common.version}</bundle>
        <bundle>mvn:org.hibernate/com.springsource.org.hibernate.ejb/${hibernate-ejb.version}</bundle>
        <!--
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.asm/${asm-bundle-version}</bundle>
        -->
        <bundle>mvn:org.objectweb.asm/com.springsource.org.objectweb.asm/${asm.version}</bundle>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.activation-api-1.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxb-api-2.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.stax-api-1.0/${servicemix-specs-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-impl/${jaxb-bundle-version}</bundle>
    </feature>

    <!-- Base opennms feature descriptor for a daemon install -->

    <feature name="opennms-config" version="${project.version}">
        <bundle>mvn:org.codehaus.castor/com.springsource.org.castor/${castor-version}</bundle>
        <bundle>mvn:org.opennms/opennms-config/${project.version}</bundle>
    </feature>

    <feature name="opennms-util" version="${project.version}">
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <feature version='${spring-osgi-version}'>spring-dm3</feature>
        <feature version='${spring3-version}'>spring3</feature>
        <bundle>mvn:org.opennms/opennms-util/${project.version}</bundle>
    </feature>

    <feature name="opennms-config-utils" version="${project.version}">
        <feature version="${project.version}">opennms-util</feature>
        <bundle>mvn:org.opennms/opennms-config-utils/${project.version}</bundle>
    </feature>

    <feature name="opennms-dao" version="${project.version}">
        <bundle>mvn:org.codehaus.castor/com.springsource.org.castor/${castor-version}</bundle>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:commons-collections/commons-collections/${commons-collections-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-io/${commons-io-bundle-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.snmp4j/${snmp4j-version}</bundle>
        <bundle>mvn:com.mchange.c3p0/com.springsource.com.mchange.v2.c3p0/${c3p0-version}</bundle>
        <bundle>mvn:commons-lang/commons-lang/${commons-lang-version}</bundle>
        <feature version='${spring-osgi-version}'>spring-dm3</feature>
        <feature version='${hibernate.version}'>hibernate</feature>
        <bundle>mvn:org.opennms/opennms-dao/${project.version}</bundle>
    </feature>

    <feature name="opennms-daemon" version="${project.version}">
        <bundle>mvn:org.codehaus.castor/com.springsource.org.castor/${castor-version}</bundle>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:commons-collections/commons-collections/${commons-collections-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-io/${commons-io-bundle-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.snmp4j/${snmp4j-version}</bundle>
        <bundle>mvn:com.mchange.c3p0/com.springsource.com.mchange.v2.c3p0/${c3p0-version}</bundle>
        <bundle>mvn:commons-lang/commons-lang/${commons-lang-version}</bundle>
        <bundle>mvn:net.sourceforge.mx4j/com.springsource.mx4j/${mx4j-version}</bundle>
        <feature version='${spring-osgi-version}'>spring-dm3</feature>
        <feature version='${hibernate.version}'>hibernate</feature>

        <bundle>mvn:org.opennms/opennms-daemon/${project.version}</bundle>
    </feature>

    <feature name="opennms-javamail-api" version="${project.version}">
        <feature version='${spring3-version}'>spring3</feature>
        <feature version='${hibernate.version}'>hibernate</feature>
        <bundle>mvn:com.mchange.c3p0/com.springsource.com.mchange.v2.c3p0/${c3p0-version}</bundle>
        <bundle>mvn:org.codehaus.castor/com.springsource.org.castor/${castor-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.snmp4j/${snmp4j-version}</bundle>
        <bundle>mvn:javax.mail/mail/${javax-mail-version}</bundle>
        <bundle>mvn:commons-lang/commons-lang/${commons-lang-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-io/${commons-io-bundle-version}</bundle>
        <bundle>mvn:org.opennms/opennms-javamail-api/${project.version}</bundle>
    </feature>

    <feature name="opennms-rrd-api" version="${project.version}">
        <feature version='${spring3-version}'>spring3</feature>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:org.opennms/opennms-rrd-api/${project.version}</bundle>
    </feature>

    <feature name="opennms-icmp-api" version="${project.version}">
        <feature version='${spring3-version}'>spring3</feature>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <bundle>mvn:org.opennms/opennms-icmp-api/${project.version}</bundle>
    </feature>

    <feature name="opennms-model" version="${project.version}">
        <feature version='${spring3-version}'>spring3</feature>
        <bundle>mvn:org.codehaus.castor/com.springsource.org.castor/${castor-version}</bundle>
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.java-persistence-api-1.1.1/${servicemix-specs-version}</bundle>
        <feature version='${hibernate.version}'>hibernate</feature>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.snmp4j/${snmp4j-version}</bundle>
        <bundle>mvn:commons-lang/commons-lang/${commons-lang-version}</bundle>
        <bundle>mvn:org.opennms/opennms-model/${project.version}</bundle>
    </feature>

    <feature name="org.opennms.features.phonebook" version="${project.version}">
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-io/${commons-io-bundle-version}</bundle>
        <bundle>mvn:org.opennms.features/org.opennms.features.phonebook/${project.version}</bundle>
    </feature>

    <feature name="org.opennms.features.poller" version="${project.version}">
        <feature version='${spring3-version}'>spring3</feature>
        <bundle>mvn:org.opennms.features.poller/org.opennms.features.poller.api/${project.version}</bundle>
    </feature>

    <feature name="org.opennms.features.ticketing.api" version="${project.version}">
        <bundle>mvn:org.opennms.features.ticketing/org.opennms.features.ticketing.api/${project.version}</bundle>
    </feature>

    <feature name="opennms-services" version="${project.version}">
        <feature version='${spring3-version}'>spring3</feature>
        <feature version='${hibernate.version}'>hibernate</feature>
        <feature version="${project.version}">opennms-config</feature>
        <feature version="${project.version}">opennms-util</feature>
        <feature version="${project.version}">opennms-config-utils</feature>
        <feature version="${project.version}">opennms-model</feature>
        <feature version="${project.version}">opennms-daemon</feature>
        <feature version="${project.version}">opennms-dao</feature>
        <feature version="${project.version}">opennms-javamail-api</feature>
        <feature version="${project.version}">opennms-rrd-api</feature>
        <feature version="${project.version}">opennms-icmp-api</feature>
        <feature version="${project.version}">org.opennms.features.phonebook</feature>
        <feature version="${project.version}">org.opennms.features.poller</feature>
        <feature version="${project.version}">org.opennms.features.ticketing.api</feature>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-servlet_2.5_spec/${servlet-api-2.5-version}</bundle>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-el_1.0_spec/${el-api-1.0-version}</bundle>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-jsp_2.1_spec/${jsp-api-2.1-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-httpclient/${commons-httpclient-bundle-version}</bundle>
        <bundle>mvn:net.homeip.yusuke/com.springsource.twitter4j/${twitter4j-version}</bundle>
        <bundle>mvn:org.restlet/org.restlet/${restlet-version}</bundle>
        <bundle>mvn:org.opennms/commons-cli/${commons-cli-version}</bundle>
        <bundle>mvn:org.opennms/jdhcp/${jdhcp-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.commons-codec/${commons-codec-version}</bundle>
        <bundle>mvn:org.opennms/novell-ldap/${novell-ldap-version}</bundle>
        <bundle>mvn:org.apache.bsf/com.springsource.org.apache.bsf/${bsf-version}</bundle>
        <bundle>mvn:org.opennms/jradius-client/${jradius-client-version}</bundle>
        <bundle>mvn:org.opennms/jradius-core/${jradius-version}</bundle>
        <bundle>mvn:org.opennms/jradius-dictionary/${jradius-version}</bundle>
        <bundle>mvn:org.opennms/gnu-crypto/${gnu-crypto-version}</bundle>
        <bundle>mvn:org.apache.regexp/com.springsource.org.apache.regexp/${apache-regexp-version}</bundle>
        <bundle>mvn:org.opennms/commons-chain/${commons-chain-version}</bundle>
        <bundle>mvn:org.apache.commons/com.springsource.org.apache.commons.digester/${commons-digester-version}</bundle>
        <bundle>mvn:org.apache.commons/com.springsource.org.apache.commons.beanutils/${commons-beanutils-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jsch/${jsch-version}</bundle>
        <bundle>mvn:org.igniterealtime/com.springsource.org.jivesoftware.smack/${smack-version}</bundle>
        <bundle>mvn:org.igniterealtime/com.springsource.org.jivesoftware.smackx/${smack-version}</bundle>
        <bundle>mvn:org.jfree.chart/com.springsource.org.jfree.chart/${jfree-chart-version}</bundle>
        <bundle>mvn:org.jfree/com.springsource.org.jfree/${jfree-version}</bundle>
        <bundle>mvn:org.aspectj/com.springsource.org.aspectj.runtime/${aspectj-version}</bundle>
        <bundle>mvn:org.aspectj/com.springsource.org.aspectj.weaver/${aspectj-version}</bundle>
        <bundle>mvn:org.apache.commons/com.springsource.org.apache.commons.configuration/${commons-configuration-version}</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.quartz/${quartz-version}</bundle>
        <bundle>mvn:org.opennms/opennms-services/${project.version}</bundle>
    </feature>

</features>